---
sidebar_position: 1
title: Code Sandboxes
slug: /
---

import DocCardList from '@theme/DocCardList';
import { useDocsSidebar } from '@docusaurus/plugin-content-docs/client';

# Code Sandboxes

**Code Sandboxes** is a Python package for creating safe, isolated environments where AI systems can write, run, and test code without affecting the real world or the user's device.

## Package Scope

Code Sandboxes is the **execution layer** in the Datalayer AI stack:

This section clarifies what the package owns versus what is delegated to adjacent layers.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     agent-runtimes                          â”‚
â”‚            (Agent hosting, protocols, UI)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      agent-codemode      â”‚         agent-skills             â”‚
â”‚  (discovery, codegen)    â”‚     (skills management)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    code-sandboxes                           â”‚  â—€â”€â”€ You are here
â”‚          (Safe code execution environment)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Responsibilities:**
- âœ… Execute Python/shell code safely in isolated environments
- âœ… Provide filesystem operations (read, write, list, upload, download)
- âœ… Run shell commands with streaming output
- âœ… Manage sandbox lifecycle (start, stop, snapshot)
- âœ… Support multiple isolation levels (local, Docker, cloud)

**Not Responsible For:**
- âŒ MCP tool discovery or binding generation (â†’ agent-codemode)
- âŒ Skill management and composition (â†’ agent-skills)
- âŒ Agent protocols or UI components (â†’ agent-runtimes)

## Key Features

- **ğŸ”’ Secure Isolation**: Run untrusted code safely in sandboxed environments
- **ğŸ Python Code Execution**: Execute Python code with streaming output and rich results
- **ğŸ“ Filesystem Operations**: Read, write, list, upload, and download files
- **ğŸ’» Command Execution**: Run shell commands with streaming support
- **ğŸ“¸ Snapshots**: Save and restore sandbox state
- **ğŸš€ GPU Support**: Access GPU compute for ML workloads

## Sandbox Variants

Code Sandboxes supports multiple execution backends:

| Variant | Isolation Level | Best For |
|---------|-----------------|----------|
| `local-eval` | None (Python exec) | Development, testing |
| `local-docker` | Container | Local isolated execution |
| `local-jupyter` | Process (Jupyter kernel) | Local persistent state |
| `datalayer-runtime` | Cloud VM | Production, GPU workloads |

## Quick Start

```bash
pip install code-sandboxes
```

```python
from code_sandboxes import Sandbox

with Sandbox.create() as sandbox:
    result = sandbox.run_code("print('Hello from the sandbox!')")
    print(result.stdout)  # Hello from the sandbox!
```

## Integration with Other Packages

### With agent-codemode

Code Sandboxes is used by agent-codemode to execute tool composition code:

```python
from code_sandboxes import Sandbox
from agent_codemode import CodeModeExecutor, ToolRegistry

# agent-codemode uses code-sandboxes internally
executor = CodeModeExecutor(registry, sandbox_variant="datalayer-runtime")
```

### With agent-skills

Agent Skills uses Code Sandboxes to execute skill scripts:

```python
from code_sandboxes import LocalEvalSandbox
from agent_skills import SandboxExecutor

sandbox = LocalEvalSandbox()
executor = SandboxExecutor(sandbox)
```

## Learn More

<DocCardList items={useDocsSidebar().items}/>

